/*!CK:970181928!*//*1403209160,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["d8\/9w"]); }

__d("EntstreamStoryDeduper",["AsyncRequest","Arbiter","DOM","csx","CSS","CacheStorage"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(p,q){var r={};for(var s=0;s<p.length;s++){var t=p[s],u=t.getAttribute('data-dedupekey');if(r[u]){if(q){k.hide(t);h.inform('FbFeedUnreadPillNavigation/logDedupe',{story:t,action:'dedupe_story_hide'});}else{i.remove(t);h.inform('FbFeedUnreadPillNavigation/logDedupe',{story:t,action:'dedupe_story_remove'});}}else r[u]=1;}}function n(p,q){var r={},s=0,t=Date.now()/1000/3600,u=30;for(var v=0;v<u;++v){var w=new l('localstorage','vpv_local_log.'+parseInt(t-v,10)+'h');s+=w.keys().length>0;for(var x in w.keys())r[w.keys()[x]]=1;}var y=0,z=0,aa;for(var ba=0;ba<p.length;ba++){var ca=p[ba],da=ca.getAttribute('data-dedupekey'),ea='checkedVPVLocalCache';if(k.hasClass(ca,ea)){continue;}else k.addClass(ca,ea);++y;if(r[da]&&k.shown(ca)){aa=da;++z;if(q){k.hide(ca);}else i.remove(ca);}}if(y>0)new g('/ajax/feed/feed_tracking/vpv_local_storage_log').setData({num_vpvs:Object.keys(r).length,num_hours:s,num_seen_stories:z,num_unseen_stories:y,seen_story_key:aa}).send();}var o={dedupe:function(p,q){q=q||"._5jmm";var r=i.scry(p,q);r=r.filter(function(s){return s.getAttribute('data-dedupekey');});m(r,false);},dedupeHide:function(p,q,r){q=q||"._5jmm";var s=i.scry(p,q),t=s.filter(function(x){return x.getAttribute('data-dedupekey')&&k.shown(x);});m(t,true);if(r){var u=i.scry(p,".unread_session");for(var v=0;v<u.length;++v){var w=i.scry(u[v],q);w.length&&n(w,true);}}}};e.exports=o;},null);
__d("FutureHomeSideNav",["Arbiter","AsyncRequest","CSS","DOM","FutureSideNav","FutureSideNavItem","FutureSideNavSection","NavigationMessage","UIPagelet","emptyFunction","tx","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){for(var s in k)if(k.hasOwnProperty(s))u[s]=k[s];var t=k===null?null:k.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=k;function u(){"use strict";if(k!==null)k.apply(this,arguments);}u.prototype.init=function(){"use strict";t.init.apply(this,arguments);this.ajaxPipe=true;this.seeAllEndpoint="/ajax/home/generic.php";this.typeSections={favorites:'pinnedNav',profiles:'pinnedNav',company:'companyNav',apps:'appsNav',groups:'groupsNav',pages:'pagesNav',lists:'listsNav',interests:'interestsNav',connect_apps:'connectNav',type_user:'pinnedNav',type_group:'groupsNav',type_company:'companyNav',type_page:'pagesNav',type_friend_list:'listsNav',type_interest_list:'interestsNav',type_non_canvas_app:'appsNav',type_facebook_app:'appsNav',type_canvas_app_game:'appsNav',type_canvas_app_non_game:'appsNav',type_curated_feed:'interestsNav',type_game_tool:'appsNav',type_page_tool:'pagesNav',type_pinnable_page_tool:'pagesNav',type_developer:'developerNav',type_developer_tool:'developerNav'};this._arbiterSubscriptions.push(g.subscribe(n.NAVIGATION_FAVORITE_UPDATE,this.updateFavorite.bind(this)),g.subscribe(n.NAVIGATION_FIRST_RESPONSE,this.navigationFirstResponse.bind(this)));};u.prototype._initSection=function(ba){"use strict";var ca=t._initSection.call(this,ba);for(var da in this.typeSections){var ea=this.typeSections[da];if(ca.id==ea){var fa=j.scry(ca.node,'h4.navHeader')[0];if(fa){var ga='\/bookmarks\/('+da+')(\/)?';ca.seeall=this._initItem({node:fa,id:ca.id,endpoint:this.seeAllEndpoint,key:['bookmarks'],path:[{regex:ga}]});}}}return ca;};u.prototype._constructItem=function(ba,ca){"use strict";return new aa(ba,ca);};u.prototype._constructSection=function(ba){"use strict";return new x(ba);};u.prototype.getSection=function(ba){"use strict";return (this.typeSections[ba]&&this.sections[this.typeSections[ba]]);};u.prototype._getItemForKey=function(ba){"use strict";var ca=t._getItemForKey.call(this,"nf");if(ca&&ca.matchKey(ba)){return ca;}else return t._getItemForKey.call(this,ba);};u.prototype._isCurrentPath=function(ba){"use strict";return ((ba.getDomain()===this.uri.getDomain())&&(ba.getPath()==='/'||ba.getPath()==='/home.php'));};u.prototype._handleMenuClick=function(ba,ca,da,ea){"use strict";if(i.hasClass(da,'favorite')){g.inform(n.NAVIGATION_FAVORITE_UPDATE,{key:ca.numericKey,bookmark_node_id:ca.id,favorite:!ba.equals(this.getSection('favorites')),menu_node:ea});}else t._handleMenuClick.call(this,ba,ca,da,ea);};u.prototype._handleMenuItemClick=function(ba,ca,da){"use strict";if(ba==='favorite'){g.inform(n.NAVIGATION_FAVORITE_UPDATE,{key:da.numericKey,bookmark_node_id:da.id,favorite:!ca.equals(this.getSection('favorites'))});}else t._handleMenuItemClick.call(this,ba,ca,da);};u.prototype._handleLinkClick=function(ba,ca,event){"use strict";var da=this._getItemForNode(ca);if(da&&(da.type=='groups'||da.type=='pages'||da.type=='lists'||da.type=='interests'||da.type=='company'||da.type=='type_group'||da.type=='type_company'||da.type=='type_page'||da.type=='type_friend_list'||da.type=='type_interest_list'||da.type=='type_curated_feed'||da.type=='type_game_tool'||da.type=='type_page_tool'||da.type=='type_facebook_app'||da.type=='type_pinnable_page_tool'))da.setCount(0);t._handleLinkClick.call(this,ba,ca,event);};u.prototype.removeItemByKey=function(ba){"use strict";g.inform(n.NAVIGATION_ITEM_REMOVED,ba);t.removeItemByKey.call(this,ba);};u.prototype.toggleItemByKey=function(ba,ca){"use strict";var da=this.getNodeForKey(ba);if(!ca){g.inform(n.NAVIGATION_ITEM_HIDDEN,ba);da&&i.hide(da);}else da&&i.show(da);var ea=this._getItemForKey(ba);this.getSection(ea.type).refresh();};u.prototype.removeItem=function(ba){"use strict";var ca=this.getSection(ba.type);t.removeItem.call(this,ba);ca.refresh();};u.prototype.updateFavorite=function(ba,ca){"use strict";var da;if(ca.bookmark_node_id){da=this.items[ca.bookmark_node_id];}else da=this._findItem(function(ia){return ia.matchKey(ca.key)&&ia.canFavorite();});var ea=this.getSection("favorites"),fa=p,ga=ca.favorite?ea.addEndpoint:ea.removeEndpoint;if(!da&&ca.favorite){fa=function(){o.loadFromEndpoint('PinnedNavigationPagelet','pagelet_pinned_nav');};}else if(!da){fa=function(){o.loadFromEndpoint('BookmarkNavigationPagelet','pagelet_bookmark_nav');};}else{var ha=this.getSection(da.type);if(ca.favorite){i.show(da.node);this.moveItem(ea,da);da.showFavorite(ca.menu_node);}else if(!ha.equals(ea)){this.moveItem(ha,da,true);da.hideFavorite(ca.menu_node);}else this.removeItem(da);ha.refresh();ea.refresh();ca.key=da.numericKey;g.inform('NavigationMessage.FAVORITES_UPDATED');}new h().setURI(ga).setData({id:ca.key}).setHandler(fa).send();};u.prototype._doPageTransition=function(ba,ca){"use strict";var da=t._doPageTransition.call(this,ba,ca);if(da&&(ba.type=='groups'||ba.type=='lists'||ba.type=='interests'||ba.type=='company'||ba.type=='type_group'||ba.type=='type_page'||ba.type=='type_friend_list'||ba.type=='type_interest_list'||ba.type=='type_curated_feed'||ba.type=='type_game_tool'||ba.type=='type_page_tool'||ba.type=='type_facebook_app'||ba.type=='type_pinnable_page_tool')){ba.setCount(0);ba.hideUnreadDot();}return da;};u.prototype.navigationFirstResponse=function(){"use strict";this.setSelected(this.loading);};for(var v in m)if(m.hasOwnProperty(v))x[v]=m[v];var w=m===null?null:m.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=m;function x(ba){"use strict";m.call(this,ba);this.editEndpoint='/ajax/bookmark/edit/';this.addEndpoint='/ajax/bookmark/add/';this.removeEndpoint='/ajax/bookmark/delete/';}x.prototype.refresh=function(){"use strict";var ba=j.scry(this.node,'li.sideNavItem'),ca=j.scry(this.node,'h4.navHeader'),da=j.scry(this.node,'div.actionLinks'),ea=ba.some(i.shown);ca.length&&i.conditionShow(ca[0],ea);da.length&&i.conditionShow(da[0],ea);};for(var y in l)if(l.hasOwnProperty(y))aa[y]=l[y];var z=l===null?null:l.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=l;function aa(){"use strict";if(l!==null)l.apply(this,arguments);}aa.prototype.canFavorite=function(){"use strict";return !!this._getFavoriteLabel();};aa.prototype.showFavorite=function(ba){"use strict";j.setContent(this._getFavoriteLabel(ba),"Remove from Favorites");};aa.prototype.hideFavorite=function(ba){"use strict";j.setContent(this._getFavoriteLabel(ba),"Add to Favorites");};aa.prototype.hideUnreadDot=function(){"use strict";var ba=j.scry(this.node,'img.unreadDot')[0];ba&&i.hide(ba);};aa.prototype._getFavoriteLabel=function(ba){"use strict";return j.scry(ba,"li.favorite span._54nh")[0];};e.exports=u;},null);
__d("legacy:home-side-nav-future-js",["FutureHomeSideNav"],function(a,b,c,d){a.FutureHomeSideNav=b('FutureHomeSideNav');},3);
__d("KeyboardShortcuts",["KeyEventController","Layer","ModalLayer"],function(a,b,c,d,e,f,g,h,i){function j(l,m,n){"use strict";this.key=l;this.handler=m;this.filter=n;this.register();}j.prototype.register=function(){"use strict";this.token=g.registerKey(this.key,this.handler,this.filter);};j.prototype.remove=function(){"use strict";this.token.remove();};var k={_tokens:[[]],register:function(l,m,n){n=n||{};var o=n.allowDefault?m:function(event,s){m.apply(this,arguments);event.prevent();},p=n.baseFilters||[g.defaultFilter],q=function(event,s){for(var t=0,u=p.length;t<u;t++)if(!p[t](event,s))return false;return !n.filter||n.filter(event,s);},r=new j(l,o,q);this._tokens[this._tokens.length-1].push(r);return r;},init:function(){h.subscribe('show',function(l,m){if(m.hasBehavior(i))this.pushLayer();}.bind(this));h.subscribe('hide',function(l,m){if(m.hasBehavior(i))this.popLayer();}.bind(this));},pushLayer:function(){var l=this._tokens[this._tokens.length-1];l&&l.forEach(function(m){m.remove();});this._tokens.push([]);},popLayer:function(){var l=this._tokens.length-1;if(l<0)return;var m=this._tokens[l];m.forEach(function(o){o.remove();});this._tokens.pop();var n=this._tokens[l-1];n&&n.forEach(function(o){o.register();});}};k.init();e.exports=k;},null);
__d("FeedBaseKeyboardController",["$","AccessibilityLogger","Arbiter","AsyncDialog","AsyncRequest","Banzai","BanzaiODS","BanzaiNectar","CSS","DOM","DOMScroll","DOMQuery","Event","Focus","KeyboardShortcuts","LikeConfirmer","NavigationMessage","Parent","Run","StickyComposerConfig","SubscriptionsHandler","Vector","ViewportBounds","emptyFunction","ge","getActiveElement","isAsyncScrollQuery","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){var ia;function ja(){ia=o.hasClass(document.documentElement,'tinyViewport')?0:g('pagelet_bluebar').offsetTop+g('pagelet_bluebar').offsetHeight;}setTimeout(ja,0);s.listen(window,'resize',ha(ja));function ka(la){"use strict";this.root=la;this.init();}ka.prototype.getStories=function(){"use strict";};ka.prototype.getParentStory=function(la){"use strict";};ka.prototype.isStory=function(la){"use strict";};ka.prototype.isHoldoutStory=function(la){"use strict";};ka.prototype.getHeadline=function(la){"use strict";};ka.prototype.getPreviousStory=function(la){"use strict";};ka.prototype.getNextStory=function(la){"use strict";};ka.prototype.setSelected=function(la,ma){"use strict";};ka.prototype.clickLike=function(){"use strict";};ka.prototype.clickComment=function(){"use strict";};ka.prototype.clickShare=function(){"use strict";};ka.prototype.clickSeeMore=function(){"use strict";};ka.prototype.clickLeft=function(){"use strict";};ka.prototype.clickRight=function(){"use strict";};ka.prototype.openAttachment=function(){"use strict";};ka.prototype.focusComposer=function(){"use strict";var la=p.scry(ea('pagelet_composer'),'textarea')[0];if(la){t.set(la);q.scrollToTop(true);}};ka.prototype.getScrollOffset=function(){"use strict";return 10;};ka.prototype.getAnimationLength=function(la){"use strict";return Math.min(Math.abs(ba.getElementPosition(la).y-ca.getTop()-document.body.scrollTop),400);};ka.prototype.findTop=function(){"use strict";var la=this.getStories();for(var ma=0;ma<la.length;ma++)if(ba.getElementPosition(la[ma]).y>ba.getScrollPosition().y)return la[ma];};ka.prototype.onLeave=function(){"use strict";this.subscriptions&&this.subscriptions.release();};ka.prototype.getHelpDialogRequest=function(){"use strict";if(!this.dialogRequest){this.dialogRequest=new k('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};ka.prototype.init=function(){"use strict";y.onLeave(this.onLeave.bind(this));this.subscriptions=new aa();this.subscriptions.addSubscriptions(i.subscribe(w.NAVIGATION_BEGIN,this.onLeave.bind(this)),u.register('j',this.vert.bind(this,1)),u.register('k',this.vert.bind(this,-1)),u.register('l',function(){var la=this.getParentStory(fa());v.like(function(){this.setSelected(la,false);this.clickLike();}.bind(this),fa());}.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('p',this.focusComposer.bind(this)),u.register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('SLASH',function(){var la=this.getHelpDialogRequest();la&&j.send(la);}.bind(this),{filter:function(event,la){return event.getModifiers().shift;}}),u.register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),u.register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),s.listen(document,'focusin',function(event){var la=event.getTarget(),ma=(la.nodeName=='OBJECT'||la.nodeName=='EMBED'||la.nodeName=='IFRAME'),na=this.getParentStory(la);if(na&&(this.selected!=na)&&!ma){this.setSelected(na,false);if(!this.isInteractive(la))this.setFocused(na);}}.bind(this)));};ka.prototype.hasActiveStory=function(event,la){"use strict";var ma=fa();return !(ma&&o.shown(ma))||!!this.getParentStory(ma);};ka.prototype.hasExpandableStoryInFocus=function(event,la){"use strict";var ma=fa();return (ma.getElementsByClassName('text_exposed_root').length&&!ma.getElementsByClassName('text_exposed_root text_exposed').length);};ka.prototype.click=function(la){"use strict";if(!this.selected)return;var ma;for(var na=0,oa=arguments.length;na<oa;na++){ma=p.scry(this.selected,arguments[na])[0];if(ma&&o.shown(ma)){ma.click();return;}}};ka.prototype.vert=function(la){"use strict";if(!this.scrollInitialized){this.subscriptions.addSubscriptions(s.listen(document,'scroll',function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}.bind(this)));this.scrollInitialized=true;}var ma,na;if(this.selected){if(l.isEnabled('kbshortcuts_feed')){na=la>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';m.bumpEntityKey('kbshortcuts_feed',na);n.log('feed_scroll',na,{});}h.logJKKey();if(this.selected.id=='pagelet_composer'){ma=la>0?this.getStories()[0]:null;if(this.isHoldoutStory(ma))ma=this.getPreviousStory(ma);}else ma=la>0?this.getNextStory(this.selected):(this.getPreviousStory(this.selected)||ea('pagelet_composer'));if(!ma){return;}else if(!r.isElementNode(ma)){o.removeClass(this.selected,'selectedStorySimple');this.selected=ma;return this.vert(la);}}if(!ma||x.byClass(ma,'hidden_elem')||!p.contains(document,ma)){ma=this.findTop();if(ma&&la<0)ma=this.getPreviousStory(ma);if(this.isHoldoutStory(ma))ma=this.getPreviousStory(ma);}if(!ma)return;this.anim&&this.anim.stop();var oa=(Date.now()-(this.lastScroll||0)>30),pa=this.setFocused.bind(this,ma);if(ga()){oa=false;pa();pa=da;}this.scrolling=true;this.scrollingTimer&&window.clearTimeout(this.scrollingTimer);var qa=ia;if(z.IS_SHOWN)if((z.BEHAVIOR==='scrollup'&&la<0)||(z.BEHAVIOR==='persistent'))qa=ia+z.HEIGHT;this.anim=q.scrollTo(ma,oa?this.getAnimationLength(ma):0,false,ba.getViewportDimensions().y-qa-this.getScrollOffset(),0,function(){this.scrollingTimer=window.setTimeout(function(){this.scrolling=false;}.bind(this),300);var ra=ba.getScrollPosition();pa();if(ra.distanceTo(ba.getScrollPosition())!==0)q.scrollTo(ra,0);}.bind(this));this.setSelected(ma,true);this.lastScroll=Date.now();};ka.prototype.isInteractive=function(la){"use strict";return ((la.nodeName=='INPUT')||(la.nodeName=='BUTTON')||(la.nodeName=='TEXTAREA')||(la.nodeName=='A')||!!x.byAttribute(la,'contenteditable'));};ka.prototype.setTabindexOnHeadline=function(la,ma){"use strict";if(this.isStory(la)){var na=this.getHeadline(la);if(na)na.tabIndex=ma;}};ka.prototype.setTabindexOnStory=function(la,ma){"use strict";if(this.isStory(la))la.tabIndex=ma;};ka.prototype.setFocused=function(la){"use strict";if(this.isStory(la))t.setWithoutOutline(la);};e.exports=ka;},null);
__d("PageAdsAttachmentLinkShareConstants",[],function(a,b,c,d,e,f){var g={LINK_ATTACHMENT_CLICK:'link_attachment_click'};e.exports=g;},null);
__d("ViewportTracking",["Arbiter","AsyncSignal","Banzai","BanzaiScuba","CSS","cx","CurrentUser","DOMDimensions","Event","NavigationMessage","Run","Style","SubscriptionsHandler","UserActivity","Vector","clickRefAction","collectDataAttributes","copyProperties","debounce","getElementPosition","throttle","CacheStorage"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca=97,da=51,ea='vpv';function fa(){"use strict";}fa.prototype.init=function(ga){"use strict";this.useBanzai=!!ga.banzai;this.conservative_initial_logging=!!ga.conservative_initial_logging;this.banzaiNoDelay=!!ga.banzai_no_delay;this.banzaiRetry=!!ga.banzai_retry;this.useLocalStorage=!!ga.use_local_storage;this.useAsync=!!ga.async;this.readStoryIDs={};this.minSizeToBeVisible=200;this.minFractionToBeVisibleForTimetracking=.5;this.minFractionForAdditionalView=0;this.timetrackingThrottlingInterval=100;this.minTimeToReportImmediately=500;this.cachedAllStories=null;this.cachedViewportHeight=n.getViewportDimensions().height;this.isTimetrackingEnabled=0;this.storyEnteredVPTimestamp={};this.alreadyLoggedDurationStories=[];this.userInactiveLock=false;this.userActivityPollerTimeoutID=-1;this._headLoadStoryCount=0;this.getDataFromConfig(ga);this.isLoose=!!ga.is_loose;this.maxScrollPosition=0;this.porportionRatio=.5;this.is_proportion=!!ga.is_proportion;if(this.is_proportion)this.proportionRatio=ga.proportion_ratio;if(ga.tracking_duration_config){this.timetrackingThrottlingInterval=ga.tracking_duration_config.timetracking_throttling_interval;this.userActivityPollingInterval=ga.tracking_duration_config.user_activity_polling_interval;this.timeToBeConsideredInactive=ga.tracking_duration_config.time_to_be_considered_inactive;this.minFractionToBeVisibleForTimetracking=ga.tracking_duration_config.min_fraction_to_be_visible;this.minTimeToReportImmediately=ga.tracking_duration_config.min_time_to_report_immediately;this.minFractionForAdditionalView=ga.tracking_duration_config.min_fraction_for_additional_view;this.localStorageLogMinDurationMs=ga.tracking_duration_config.local_storage_log_min_duration_ms;}var ha,ia=y(this.fireTimer,this.getTimeout(),this);if(this.isLoose){this.minSizeToBeVisible=0;ha=aa(function(){this.maxScrollPosition=Math.max(this.maxScrollPosition,u.getScrollPosition().y);ia();}.bind(this));}else ha=ia;if(!ga.scroll_only&&!ga.conservative_initial_logging){this.fireTimer();}else if(ga.conservative_initial_logging){this.initialStories=this.getStoriesInView();this.initialStoriesLogged=false;}this.vpvHeartBeatInterval=ga.vpv_heartbeat_interval;this.passVPVHeartbeatGK=ga.use_vpv_heartbeat;if(this.passVPVHeartbeatGK){this.intervalCount=1;this.fireTimerCount=1;this.storiesInView=this.initialStories?this.initialStories:this.getStoriesInView();this.vpvHeartBeatIntervalSignal=setInterval(function(){this._sendSignal('interval');}.bind(this),this.vpvHeartBeatInterval);}var ja=aa(this.updateTimeTrackingData.bind(this,false),this.timetrackingThrottlingInterval);this.subscriptions=new s();this.subscriptions.addSubscriptions(this._getScrollListener(ha),o.listen(window,'resize',function(){this.cachedViewportHeight=n.getViewportDimensions().height;ha();}.bind(this)),g.subscribe(p.NAVIGATION_BEGIN,this.cleanup.bind(this)),g.subscribe('Stream/totalHeadLoadedStories',function(ka,la){this._headLoadStoryCount=la;}.bind(this)));if(this.isTimetrackingEnabled){this.updateTimeTrackingData(false);this.subscriptions.addSubscriptions(this._getScrollListener(ja));this._userActivityPoller();}q.onLeave(this.cleanup.bind(this));};fa.prototype._getScrollListener=function(ga){"use strict";return o.listen(window,'scroll',ga);};fa.prototype.cleanup=function(){"use strict";if(this.subscriptions){this.subscriptions.release();this.subscriptions=null;}if(this.isTimetrackingEnabled){clearTimeout(this.userActivityPollerTimeoutID);this.updateTimeTrackingData(true);}if(this.passVPVHeartbeatGK)clearInterval(this.vpvHeartBeatIntervalSignal);this.initialStories=[];this._headLoadStoryCount=0;};fa.prototype.fireTimer=function(){"use strict";if(this.conservative_initial_logging&&!this.initialStoriesLogged){this.initialStories.forEach(this.markStoryRead,this);this.initialStoriesLogged=true;}this.storiesInView=this.getStoriesInView();this.addSeenClass();this.storiesInView.forEach(this.markStoryRead,this);if(this.passVPVHeartbeatGK)this._sendSignal('fireTimer');};fa.prototype.heartBeatIsEnabled=function(){"use strict";return false;};fa.prototype._sendSignal=function(ga){"use strict";if(!this.heartBeatIsEnabled())return;var ha=-1;if(ga=='interval'){ha=this.intervalCount++;}else if(ga=='fireTimer')ha=this.fireTimerCount++;var ia=-1,ja=-1,ka=-1;if(this.storiesInView.length>0){ia=this.getStoryID(this.storiesInView[0]);ja=this.getQueryID(this.storiesInView[0]);ka=this.getFBFeedLocation(this.storiesInView[0]);}var la=new j('vpv_heartbeat_js');la.addInteger('qid',ja);la.addInteger('uid',m.getID());la.addInteger('firststoryid',ia);la.addInteger('time',Math.round(Date.now()/1000));la.addNormal('type',ga);la.addInteger('count',ha);la.addInteger('fbfeed_location',ka);la.post();};fa.prototype._userActivityPoller=function(){"use strict";if(!this.userInactiveLock&&!t.isActive(this.timeToBeConsideredInactive)){this.userInactiveLock=true;this.updateTimeTrackingData(true);t.subscribeOnce(function(){this.updateTimeTrackingData(false);this.userInactiveLock=false;}.bind(this));}this.userActivityPollerTimeoutID=setTimeout(this._userActivityPoller.bind(this),this.userActivityPollingInterval);};fa.prototype.getQueryID=function(ga){"use strict";return -1;};fa.prototype.getFBFeedLocation=function(ga){"use strict";return -1;};fa.prototype.addVisibleStoriesTimestamps=function(ga,ha){"use strict";var ia={};for(var ja=0,ka=ga.length;ja<ka;ja++){var la=this.getStoryID(ga[ja]);ia[la]=true;if(la in this.storyEnteredVPTimestamp)continue;this.storyEnteredVPTimestamp[la]={ts:ha,story:ga[ja]};}return ia;};fa.prototype.removeTimestampsOfStoriesNotInView=function(ga,ha){"use strict";for(var ia in this.storyEnteredVPTimestamp)if(!(ia in ga)){this.recordTimeStoryWasInView(this.storyEnteredVPTimestamp[ia].story,this.storyEnteredVPTimestamp[ia].ts,ha);delete this.storyEnteredVPTimestamp[ia];}};fa.prototype.updateTimeTrackingData=function(ga){"use strict";if(!this.storyEnteredVPTimestamp)this.storyEnteredVPTimestamp={};var ha=Date.now(),ia={},ja;if(!ga)ia=this.getAllStoriesInView();ja=this.addVisibleStoriesTimestamps(ia,ha);this.removeTimestampsOfStoriesNotInView(ja,ha);};fa.prototype.getStoriesInView=function(){"use strict";var ga=this.getAllStories(),ha=[],ia=false;for(var ja=0;ja<ga.length;ja++){var ka=ga[ja],la=this.getStoryID(ka);if(this.hasBeenVisible(la))continue;if(this.isVisible(ka)){if(ka.getAttribute('data-insertion-position')===null)ka.setAttribute('data-insertion-position',ja-this._headLoadStoryCount);ha.push(ka);ia=true;}else if(ia)break;}return ha;};fa.prototype.getAllStoriesFromCache=function(){"use strict";if(this.cachedAllStories===null)this.cachedAllStories=this.getAllStories();return this.cachedAllStories;};fa.prototype.invalidateAllStoriesCache=function(){"use strict";this.cachedAllStories=null;};fa.prototype.getAllStoriesInView=function(){"use strict";var ga=this.getAllStoriesFromCache(),ha=[],ia=false,ja=0,ka=ga.length,la=1;if(this._indexOfLastVisibleStoryOnPreviousPass>ka/2){ja=ka-1;ka=-1;la=-la;}for(var ma=ja;ma!=ka;ma+=la){var na=ga[ma];if(this.isVisible(na,false,this.minFractionToBeVisibleForTimetracking*n.getElementDimensions(na).height)){if(na.getAttribute('data-insertion-position')===null)na.setAttribute('data-insertion-position',ma-this._headLoadStoryCount);ha.push(na);ia=true;}else if(ia){this._indexOfLastVisibleStoryOnPreviousPass=ma-la;break;}}for(ma=this.alreadyLoggedDurationStories.length-1;ma>=0;ma--){na=this.alreadyLoggedDurationStories[ma];if(!this.isVisible(na,false,this.minFractionForAdditionalView*n.getElementDimensions(na).height))this.alreadyLoggedDurationStories.splice(ma,1);}return ha;};fa.prototype.getTimetrackingDataToLog=function(ga,ha,ia){"use strict";var ja={evt:ca,vpvd_start_timestamp:ha,vpvd_time_delta:ia-ha,story_height:n.getElementDimensions(ga).height,viewport_height:this.cachedViewportHeight};return {ft:ja};};fa.prototype.markStoryReadInLocalStorage=function(ga){"use strict";if(this.useLocalStorage){var ha='vpv_local_log.'+parseInt(Date.now()/1000/3600,10)+'h',ia=new ba('localstorage',ha);ia.set(ga,1);}};fa.prototype.recordTimeStoryWasInView=function(ga,ha,ia){"use strict";if(this.isTimetrackingEnabled){if(this.alreadyLoggedDurationStories.indexOf(ga)>-1){return;}else this.alreadyLoggedDurationStories.push(ga);var ja=this.getTimetrackingDataToLog(ga,ha,ia),ka=w(ga,['ft']);x(ja.ft,ka.ft);var la=!!ka.ft.ei&&(ja.ft.vpvd_time_delta>this.minTimeToReportImmediately);delete ja.ei;this.sendDataToLog(ga,ja,la,false);if(this.useLocalStorage&&ja.ft.vpvd_time_delta>this.localStorageLogMinDurationMs){var ma=this.getStoryID(ga);this.markStoryReadInLocalStorage(ma);}}};fa.prototype.hasBeenVisible=function(ga){"use strict";return ga in this.readStoryIDs;};fa.prototype.isVisible=function(ga,ha,ia){"use strict";if(typeof ha==="undefined")ha=this.isLoose;if(typeof ia==="undefined")ia=this.minSizeToBeVisible;var ja=u.getScrollPosition().y,ka=n.getViewportDimensions().height,la=z(ga),ma=n.getElementDimensions(ga),na=ka+this.maxScrollPosition-ja;if(!la.x&&!la.y&&!ma.x&&!ma.y)return false;if(ha&&la.y<na)return true;var oa=Math.max(la.y,0),pa=Math.min(la.y+ma.height,ka),qa;if(this.is_proportion){qa=ma.height*this.proportionRatio;}else qa=Math.min(ma.height,ia);return (pa-oa)>=qa;};fa.prototype.sendDataToLog=function(ga,ha,ia,ja){"use strict";if(this.useBanzai){var ka={};if(ia)ka.delay=3000;if(ja)ka.retry=true;i.post('feed_tracking',ha,ka);if(this.useAsync&&ha.ft.evt==da)new h('/ajax/feed/feed_tracking/temp_vpv_logging',ha.ft).send();}else v(ea,ga,null,'FORCE',ha);};fa.prototype.addSeenClass=function(){"use strict";var ga=this.getAllStories();for(var ha=0;ha<ga.length;ha++){var ia=ga[ha],ja=this.getStoryID(ia);if(ja&&!this.isVisible(ia)&&this.hasBeenVisible(ja)&&k.hasClass(ia,"_50mx")){k.addClass(ia,"_50nb");k.removeClass(ia,"_50mx");}}};fa.prototype.markStoryRead=function(ga){"use strict";var ha=this.getStoryID(ga);if(!ha||this.hasBeenVisible(ha))return;this.readStoryIDs[ha]=true;var ia=this.getDataToLog(ga),ja=w(ga,['ft']);x(ia.ft,ja.ft);delete ia.ei;this.markStoryReadInLocalStorage(ha);this.sendDataToLog(ga,ia,this.banzaiNoDelay,this.banzaiRetry);};e.exports=fa;},null);
__d("GroupViewportTracking",["DOM","csx","ViewportTracking","Banzai","$"],function(a,b,c,d,e,f,g,h,i,j,k){for(var l in i)if(i.hasOwnProperty(l))n[l]=i[l];var m=i===null?null:i.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=i;function n(){"use strict";if(i!==null)i.apply(this,arguments);}n.prototype.getDataFromConfig=function(o){"use strict";this.timeout=o.record_delay;};n.prototype.getTimeout=function(){"use strict";return this.timeout;};n.prototype.getAllStories=function(){"use strict";return g.scry(k('pagelet_group_mall'),"._5pat");};n.prototype.getStoryID=function(o){"use strict";var p=JSON.parse(o.getAttribute('data-ft'));return p.id;};n.prototype.getDataToLog=function(o){"use strict";return JSON.parse(o.getAttribute('data-ft'));};n.prototype.sendDataToLog=function(o,p){"use strict";if(this.useBanzai)j.post('group_feed_tracking',p);};e.exports.init=function(o){n.instance=new n();n.instance.init(o);};e.exports.getInstance=function(){return n.instance;};},null);
__d("LitestandViewportHeight",["Arbiter","CSS","Event","cx","debounce","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m,n={SMALL:'small',NORMAL:'normal',LARGE:'large',getSize:function(){if(m==="_4vcw")return n.SMALL;if(m==="_4vcx")return n.LARGE;return n.NORMAL;},init:function(o){n.init=l;var p=k(function(){var q=document.documentElement,r=q.clientHeight,s;if(r<=o.max_small_height){s="_4vcw";}else if(r>=o.min_large_height)s="_4vcx";if(s!==m){m&&h.removeClass(q,m);m=s;m&&h.addClass(q,m);g.inform('ViewportSizeChange');}});p();i.listen(window,'resize',p);}};e.exports=n;},null);
__d("runAfterScrollingStops",["Arbiter","Event","Run","debounceAcrossTransitions","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k){function l(w,x,y){if(x&&o[x])return;if(!n){g.subscribe('page_transition',v);n=true;}if(!m){w();return;}x&&(o[x]=1);p.push(w);if(!y){if(r){i.onLeave(v);r=false;}q.push(p.length-1);}}var m,n,o={},p=[],q=[],r=true,s=500,t=j(function(){m=false;var w=p;p=[];q=[];o={};for(var x=0,y=w.length;x<y;++x)w[x]();},s);function u(){m=true;t();}function v(){var w=q;q=[];r=true;for(var x=0,y=w.length;x<y;++x)p[w[x]]=k;}h.listen(window,'scroll',u);e.exports=l;},null);
__d("LitestandOffscreenController",["Arbiter","CSS","DOM","Event","LitestandMessages","LitestandViewportHeight","NavigationMessage","Parent","Run","Style","SubscriptionsHandler","Vector","cx","csx","queryThenMutateDOM","runAfterScrollingStops","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x=1,y=9,z=7,aa=10,ba={},ca=false,da,ea,fa,ga,ha=[];function ia(){da&&da.release();da=null;ca=false;}function ja(){ba={};ha=[];}function ka(){for(var wa in ba){var xa=ba[wa];if(xa.hidden)xa.dirty=true;}}function la(){if(h.hasClass(document.body,"body._5vb_")){return aa;}else if(l.getSize()===l.SMALL)return z;return y;}function ma(){ga=ga||r.getViewportDimensions().y;ea=r.getScrollPosition().y;fa=ea+ga;if(x){ea-=ga*x;fa+=ga*x;}for(var wa in ba){var xa=ba[wa];xa.position=r.getElementPosition(xa.element).y;if(!xa.hidden)xa.height=xa.element.offsetHeight;}}function na(){var wa=[];for(var xa in ba){var ya=ba[xa],za=ya.position,ab=za+ya.height<ea,bb=za>fa;if(!ya.hidden&&(ab||bb)){oa(ya);}else if(!ab&&!bb){ya.pendingHide=false;if(ya.hidden){if(ya.dirty&&za<ea){wa.push(xa);h.addClass(pa(ya),"_49nu");}else p.apply(ya.element,{height:'',marginBottom:''});h.show(pa(ya));ya.dirty=false;ya.hidden=false;}}}if(!wa.length)return;var cb=0;u(function(){for(var db=0,eb=wa.length;db<eb;db++){var fb=ba[wa[db]];cb+=fb.height-pa(fb).offsetHeight+p.getFloat(fb.element,'marginBottom');}},function(){for(var db=0,eb=wa.length;db<eb;db++){var fb=ba[wa[db]];h.removeClass(pa(fb),"_49nu");p.apply(fb.element,{height:'',marginBottom:''});}cb&&(document.body.scrollTop-=cb);});}function oa(wa){if(!wa.pendingHide){ha.push(wa);wa.pendingHide=true;}}function pa(wa){if(wa.wrapperElement)return wa.wrapperElement;var xa=wa.element;if(xa.firstElementChild)return (wa.wrapperElement=xa.firstElementChild);for(var ya=0;ya<xa.childNodes.length;ya++)if(xa.childNodes[ya].tagName)return (wa.wrapperElement=xa.childNodes[ya]);}function qa(){var wa=la()+'px';for(var xa=0;xa<ha.length;xa++){var ya=ha[xa];if(ya&&ya.element&&ya.pendingHide&&!ya.hidden){p.apply(ya.element,{height:ya.height+'px',marginBottom:wa});h.hide(pa(ya));ya.hidden=true;ya.pendingHide=false;}}ha=[];}function ra(){v(qa,'LitestandOffscreenController/hide');u(ma,na,'LitestandOffscreenController');}function sa(){for(var wa in ba){var xa=ba[wa];if(!pa(xa).childNodes.length){i.remove(xa.element);delete ba[wa];}}}function ta(wa,xa){var ya=n.byClass(xa.story,"_4ikz");if(!ya)return;ya=ba[i.getID(ya)];if(ya&&ya.hidden)ya.dirty=true;}function ua(){o.onLeave(ia);da=new q();da.addSubscriptions(g.subscribe(m.NAVIGATION_BEGIN,ja),g.subscribe(k.STORIES_REMOVED,sa),g.subscribe('Entstream/StoryUpdated',ta),g.subscribe('ViewportSizeChange',ka),j.listen(window,'scroll',w(ra)),j.listen(window,'resize',w(function(){ga=null;ra();})));ca=true;}var va={attachSubstream:function(wa){ca||ua();ba[i.getID(wa)]={element:wa};}};e.exports=va;},null);
__d("LitestandComposerBase",["Animation","Arbiter","ComposerXController","ComposerXMarauderLogger","DOM","Run","SubscriptionsHandler","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=600;function p(q){this._composerID=q;this._subscriptions=new m();this.init();}n(p.prototype,{init:function(){this._subscriptions.addSubscriptions(h.subscribe('LitestandComposer/publish',function(q,r){if(r.composer_id===this._composerID)this.liveInsertComposerStory(this._composerID,r.markup);}.bind(this)));l.onLeave(this._cleanup.bind(this));},_cleanup:function(){this._subscriptions&&this._subscriptions.release();this._subscriptions=null;},liveInsertComposerStory:function(q,r){q&&i.reset(q);if(!r)return;k.prependContent(this.getStreamRoot(),r);new g(r).from('opacity',0).to('opacity',1).duration(o).go();j.logCompleted(q);},getStreamRoot:function(){}});e.exports=p;},null);
__d("LitestandComposer",["Arbiter","LitestandComposerBase","LitestandStream"],function(a,b,c,d,e,f,g,h,i){for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){"use strict";if(h!==null)h.apply(this,arguments);}l.prototype.init=function(){"use strict";k.init.call(this);this._subscriptions.addSubscriptions(g.subscribe('LitestandComposer/globalPublish',function(m,n){if(n.top_news_id===i.getSectionID())this.liveInsertComposerStory(null,n.markup);}.bind(this)));};l.prototype.getStreamRoot=function(){"use strict";return i.getStreamRoot();};l.initComposer=function(m){"use strict";new l(m);};e.exports=l;},null);
__d("LitestandStreamLoader",["Arbiter","AsyncRequest","CSS","csx","cx","DOM","DOMScroll","Event","FbFeedHighlight","JSXDOM","LitestandMessages","LitestandOffscreenController","LitestandStream","NavigationMessage","OnVisible","Run","throttle","UIPagelet","UserActivity","EntstreamStoryDeduper","$","copyProperties","ge","getUnboundedScrollPosition","Vector"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){var fa=false,ga=false,ha={},ia,ja,ka,la,ma,na,oa=0,pa,qa,ra=[],sa=false,ta=false,ua,va,wa=false,xa=true,ya,za=false,ab=1000,bb=0,cb,db;function eb(){v.onLeave(gb);ra=[g.subscribe(t.NAVIGATION_BEGIN,gb),g.subscribe(q.NEWER_STORIES_INSERTED,function(){db=null;}),g.subscribe(q.TOUR_BEGIN,function(){fa=true;}),g.subscribe(q.TOUR_END,function(){fa=false;kb();}),g.subscribe(q.STORIES_REMOVED,hb),g.subscribe(q.UPDATE_STREAM,pb),g.subscribe(q.REFRESH_STREAM,pb),g.subscribe(q.UNREAD_ONLY_BEGIN,function(){var yb=fb(),zb=l.scry(ua,".preloadUnseenStory"),ac=l.scry(ua,".unseenStoriesHeader")[0];if(ac&&zb[0]&&yb){sa=true;l.insertBefore(yb,ua);i.show(ua);zb.forEach(function(ec){i.show(ec);o.highlight(ec);});z.dedupeHide(s.getStreamRoot(),s.getStoriesSelector(),wa);g.inform(q.STORIES_INSERTED);m.scrollTo(ac,800,false,false,10);hb();var bc=zb[0],cc=JSON.parse(bc.getAttribute('data-ft')),dc=cc.qid;ib('load',{all_unseen_stories:zb.length,qid:dc});}else{if(!ac)ib('missed_stories_header_unavailable');if(!zb[0])ib('missed_stories_unseen_stories_unavailable');if(!yb)ib('missed_stories_more_pager_unavailable');}})];ga=true;}function fb(){if(ja.parentNode)return ja.parentNode;if(!na)return;var yb=na.children.length-1;while(yb>=0){if(na.children[yb].id.lastIndexOf('more_pager',0)===0)return na.children[yb];yb--;}return;}function gb(){g.inform(q.LEAVE_HOME);ha={};qa=null;oa=0;ra.forEach(g.unsubscribe);ra=[];ia&&ia.remove();ma&&clearTimeout(ma);ma=null;la=null;db=null;pa&&pa.remove();pa=null;ga=false;bb=0;sa=false;ta=false;ua=null;va=null;wa=false;xa=true;ya=null;za=false;}function hb(){ha={};}function ib(yb,zb){var ac=-1,bc=-1,cc=-1,dc=l.scry(na,".unread_session"),ec=0,fc=0,gc=null;for(var hc=0;hc<dc.length;++hc){var ic=l.scry(dc[hc],s.getStoriesSelector());for(var jc=0;jc<ic.length;++jc){var kc=ic[jc];if(!kc.getAttribute('data-dedupekey'))continue;++fc;if(i.shown(kc)){++ec;gc=kc;}}}bc=ec-1;if(gc){var lc=JSON.parse(gc.getAttribute('data-ft'));ac=lc.qid;cc=lc.mf_story_key;}var mc={qid:ac,finish_pos:bc,storyid:cc,feed_stream_id:s.getFeedStreamID(),all_unseen_stories:fc,num_unseen_sessions:dc.length};zb=typeof zb!=='undefined'?zb:{};for(var nc in mc)if(typeof zb[nc]==='undefined')zb[nc]=mc[nc];zb.action=yb;new h('/ajax/feed/pill/').setData(zb).send();}function jb(){if(ma)return;ma=setTimeout(function(){ma=null;qb();},qa.pollIntervalMS);}function kb(){if(qa&&la&&qa.pollIntervalMS&&qa.pollIntervalMS>1000)jb();}function lb(){ia=new u(l.find(ja,'a'),vb.bind(null),false,qa.bufferPixels);}function mb(){var yb=da(window).y;return yb>qa.firstPagerScrollBuffer;}function nb(){if(mb()){lb();pa&&pa.remove();pa=null;}}function ob(yb){var zb=l.find(ja,'a');n.listen(zb,'click',function(event){vb();pa&&pa.remove();pa=null;event.preventDefault();});var ac=s.getVisibleStoryCount(na),bc=qa.maxStories;if(bc&&ac>=bc)return;if(yb&&!mb()){pa=n.listen(window,'scroll',w(nb));}else lb();}function pb(){qb();g.inform(q.UPDATE_LAST_REFRESH_TIME);}function qb(){if(fa||!la)return;if(!y.isActive(qa.newStoryIdleTime)){y.subscribeOnce(qb);return;}if(!s.canInsertNewerStories()){jb();return;}if(!db){var yb=s.getStreamRoot(),zb=p.div({style:{height:0,width:yb.offsetWidth+'px',left:'-10000px',opacity:0,overflow:'hidden',position:'absolute'}});db=l.getID(zb);l.prependContent(yb,zb);}var ac=p.div(null);l.prependContent(aa(db),ac);x.loadFromEndpoint('LitestandNewerStoriesPagelet',ac,ba(la,{cursor:cb,containerID:db}));}function rb(){var yb=l.getID(ja);i.addClass(ja,'async_saving');var zb=tb();if(ha[zb])throw new Error('This cursor has been used before, stories will be '+'repeated. Cursor: '+zb);ha[zb]=zb;var ac={cursor:zb,preload_next_cursor:va,pager_config:ka,pager_id:yb,scroll_count:++oa,start_unread_session:sa,start_continue_top_news_feed:ta,feed_stream_id:s.getFeedStreamID()};sa=false;ta=false;x.loadFromEndpoint(qa.pagerController,l.getID(na),ac,{append:true,automatic:true,usePipe:true});}function sb(){return ub()[0].getAttribute('data-cursor');}function tb(){var yb=ub();yb=yb.filter(function(zb){return !zb.getAttribute('data-preload_unseen_story');});return yb[yb.length-1].getAttribute('data-cursor');}function ub(){var yb=l.scry(na,s.getStoriesSelector());return yb.filter(function(zb){return zb.getAttribute('data-cursor');});}function vb(){g.inform('FbFeedUnreadPillNavigation/startLoading');rb();ia&&ia.remove();ia=null;}function wb(){if(!ua)return [];var yb=l.scry(na,s.getStoriesSelector()),zb=yb.filter(function(cc){return cc.getAttribute('data-dedupekey')&&!i.hasClass(cc,"preloadUnseenStory");}),ac={};for(var bc=0;bc<zb.length;bc++)ac[zb[bc].getAttribute('data-dedupekey')]=1;return l.scry(ua,s.getStoriesSelector()).filter(function(cc){var dc=cc.getAttribute('data-dedupekey'),ec=dc&&!ac[dc];ac[dc]=1;return ec;});}var xb={register:function(yb,zb,ac,bc){ga||eb();qa=s.getStreamConfig(zb);sa=false;ta=false;ua=null;va=null;wa=false;xa=true;ya=null;za=false;ka=ac;na=aa(yb);cb=sb();ja=bc;ob(true);kb();},replacePagerConfig:function(yb){ka=yb;},continueTopNewsFeed:function(){ta=true;hb();ib('finish');},removeOldPager:function(yb,zb){if(yb)l.remove(aa(yb));i.show(aa(zb));},removeLoadingIndicator:function(yb,zb){var ac=ca(yb);if(ac)l.remove(ac);i.show(zb);},moreStoriesInserted:function(yb){g.inform(q.STORIES_INSERTED,{substream_id:yb});if(s.hideOffscreenSubstreams())r.attachSubstream(aa(yb));},attachNewPager:function(yb){za&&z.dedupeHide(s.getStreamRoot(),s.getStoriesSelector(),wa);this.loadMoreUnseenStoriesIfNeeded();ja=yb;ja&&ob(false);},attachMissyElliot:function(yb){za&&z.dedupeHide(s.getStreamRoot(),s.getStoriesSelector(),wa);ib('missy_elliot_show');if(yb){ja=yb;var zb=l.find(yb,"._1ner");n.listen(zb,'click',function(event){ib('missy_elliot_click');xb.forceNewFetch();var ac=ea.getScrollPosition();m.scrollTo(new ea(ac.x,0,'document'),750,false,false,0,function(){var bc=l.scry(na,".unread_session");for(var cc=0;cc<bc.length;++cc)l.remove(bc[cc]);});vb();pa&&pa.remove();pa=null;event.preventDefault();});n.listen(zb,'mouseenter',w(function(){ib('missy_elliot_hover_star');},ab));n.listen(yb,'mouseenter',w(function(){ib('missy_elliot_hover_all');},ab));}},setPollerData:function(yb){if(yb){la=yb;kb();}},updatePollerCursor:function(yb){cb=yb;kb();},headLoadCompleted:function(yb){cb=yb.newCursor;kb();var zb=yb.stories;if(zb&&zb.length>0){for(var ac=zb.length-1;ac>=0;ac--)zb[ac].setAttribute('data-insertion-position',--bb);g.inform('Stream/totalHeadLoadedStories',-bb);}},registerPreloadUnseenStories:function(yb,zb,ac,bc){ua=yb;va=zb;wa=ac;ya=bc;if(bc)za=bc.enable_deduper;xb.loadMoreUnseenStoriesIfNeeded();},morePreloadUnseenStories:function(yb,zb,ac){va=ac;if(yb>0){l.appendContent(ua,zb);this.loadMoreUnseenStoriesIfNeeded();}else{g.inform('FbFeedUnreadPillNavigation/removePill');xa=true;ib('not_enough_remove',{all_unseen_stories:yb});}},setStopRecursiveUnseenLoad:function(yb){xa=yb;},loadMoreUnseenStoriesIfNeeded:function(){if(!ya||xa)return;var yb=wb();if(yb.length<ya.min_num){if(!ua||ya.disable_recursive){g.inform('FbFeedUnreadPillNavigation/removePill');xa=true;return;}x.loadFromEndpoint('LitestandUnseenStreamPagelet',ua,{unread_pill_config:ya,next_cursor:va,mode:1},{append:true,automatic:true,usePipe:true});}else{g.inform('FbFeedUnreadPillNavigation/enoughLoaded');if(ya.disable_recursive)xa=true;}},forceNewFetch:qb};e.exports=xb;},null);
__d("MercuryLeftNavCountControl",["Arbiter","CSS","DOM","MercuryThreadlistConstants","MessagingTag","copyProperties","MercuryThreadInformer","MercuryUnreadState"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=b('MercuryThreadInformer').get(),n=b('MercuryUnreadState').get(),o,p,q=function(r,s){o=r;p=s;this.render();this.listenerToken=m.subscribe('unread-updated',this.render.bind(this));this.subscriptions=[g.subscribe('onload/exit',this.cleanup.bind(this))];};l(q.prototype,{render:function(){var r=n.exceedsMaxCount(k.INBOX);if(r){i.setContent(o,j.MAX_UNREAD_COUNT);}else{var s=n.getUnreadCount(k.INBOX);i.setContent(o,s.toString());h.conditionClass(o.parentNode,'hidden_elem',s<=0);}i.setContent(p,r?'+':'');},cleanup:function(){this.subscriptions.forEach(g.unsubscribe);m.unsubscribe(this.listenerToken);}});e.exports=q;},null);
__d("MercuryLeftNav",["DOM","MercuryLeftNavCountControl","MercuryServerRequests"],function(a,b,c,d,e,f,g,h){var i=b('MercuryServerRequests').get();function j(k,l){i.handleUpdate(l);var m=g.scry(k,'span.countValue')[0],n=g.scry(k,'span.maxCountIndicator')[0];new h(m,n);}e.exports=j;},null);
__d("collectSubtreeData",[],function(a,b,c,d,e,f){function g(i,j,k,l,m){if(i.offsetWidth===0&&i.offsetHeight===0)return m;var n={};if(i.getAttribute)for(r=0;r<j.length;r++){t=j[r];var o=i.getAttribute(k[t]);if(o){n[t]={};var p=JSON.parse(o);for(var q in l)if(p[q]!==undefined){n[t][q]=true;if(m[t]===undefined)m[t]={};if(m[t][q]===undefined)m[t][q]=[];if(l[q].length>0)m[t][q].push(l[q]);m[t][q].push('('+p[q]);}}}for(var r=0;r<i.childNodes.length;r++){var s=i.childNodes[r];g(s,j,k,l,m);}for(var t in n)for(var u in n[t]){var v=m[t][u][m[t][u].length-1];if(v.length>0&&v.charAt(0)=='('){m[t][u][m[t][u].length-1]=v.substr(1);}else m[t][u].push(')');}return m;}function h(i,j){var k={};for(var l=0;l<j.length;++l)k[j[l]]='data-'+j[l];var m={tn:"","tn-debug":","},n={};g(i,j,k,m,n);for(var o in n)for(var p in n[o])n[o][p]=n[o][p].join('');return n;}e.exports=h;},null);
__d("recordTNTreeData",["collectSubtreeData"],function(a,b,c,d,e,f,g){function h(i,j){var k={},l=g(i,['ft']);for(var m in l.ft){k[m+'_tree']=l.ft[m];if(m==='tn-debug')i.setAttribute('tn-debug_subtree',l.ft[m]);}k.evt_value=i.offsetHeight;if(j)k.offset=Math.max(0,i.offsetTop-j.offsetTop);return k;}e.exports=h;},null);
__d("StoryTopicMap",[],function(a,b,c,d,e,f){var g={},h={registerTopics:function(i,j){g[i]=j;},getTopicsForFTID:function(i){return g[i]||[];}};e.exports=h;},null);
__d("XFeedAdsChainingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/feed\/ads_chaining\/",{actor_id:{type:"Int",required:true},ft_id:{type:"String"},origin:{type:"String",required:true},ei:{type:"String",required:true},data_ownerid:{type:"String",required:true}});},null);
__d("XPubcontentFeedChainingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/pubcontent\/feed_chaining\/",{actor_id:{type:"Int",required:true},ft_id:{type:"String"},origin:{type:"String",required:true}});},null);
__d("XPubcontentRelatedShareChainingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/pubcontent\/related_share\/",{attachment_div_id:{type:"String",required:true},global_share_id:{type:"Int",required:true},video_div_id:{type:"String"},link_url:{type:"String"},qid:{type:"String"},mf_story_key:{type:"String"},share_id:{type:"String"}});},null);
__d("XPubcontentTopicChainingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/pubcontent\/topic_chaining\/",{pivotal_topic_ids:{type:"IntVector"}});},null);
__d("XPubcontentInlineStoryPivotChainingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/pubcontent\/inline_story_pivot_chaining\/",{origin:{type:"String",required:true},storyid:{type:"String"},ftid:{type:"String"}});},null);
__d("PubcontentFeedChainingController",["AggregatedLinkComposerConfig","Arbiter","AsyncRequest","AttachmentRelatedShareConstants","CSS","cx","DOM","DOMQuery","FeedAdsChainingConfig","PageAdsAttachmentLinkShareConstants","PageLikeButton","PubcontentFeedChainingConfig","PubcontentRelatedShareChainingConfig","PubcontentTopicChainingConfig","StoryInlinePivotChainingConfig","StoryTopicMap","UFIFeedbackTargets","UFIUIEvents","XFeedAdsChainingControllerURIBuilder","XPubcontentFeedChainingControllerURIBuilder","XPubcontentRelatedShareChainingControllerURIBuilder","XPubcontentTopicChainingControllerURIBuilder","XPubcontentInlineStoryPivotChainingControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){var da='ei',ea='ad_fan_page_action',fa='ad_like_page_post_action',ga='ad_share_attachment_click_action',ha='page_story_like_action',ia='related_share_article_click',ja='related_share_video_click',ka='page_share_like_action',la='topic_story_like_action',ma='story_click_for_pivot_action';function na(){"use strict";this.$PubcontentFeedChainingController0=r;this.$PubcontentFeedChainingController1=o;this.$PubcontentFeedChainingController2=s;this.$PubcontentFeedChainingController3=t;this.$PubcontentFeedChainingController4=u;this.$PubcontentFeedChainingController5={};h.subscribe(q.LIKED,this.$PubcontentFeedChainingController6.bind(this));h.subscribe(x.UFIActionLinkLike,this.$PubcontentFeedChainingController7.bind(this));h.subscribe(j.ARTICLE_CLICK,this.$PubcontentFeedChainingController8.bind(this));h.subscribe(j.VIDEO_CLICK,this.$PubcontentFeedChainingController9.bind(this));h.subscribe(p.LINK_ATTACHMENT_CLICK,this.$PubcontentFeedChainingControllera.bind(this));h.subscribe(j.PHOTO_CLICK,this.$PubcontentFeedChainingControllerb.bind(this));na.instance=this;}na.getAdClientTokenIndex=function(){"use strict";return da;};na.prototype.$PubcontentFeedChainingController6=function(oa,pa){"use strict";var qa=this.findAdClientToken(pa.target);if(qa){this.$PubcontentFeedChainingControllerc(pa.target,{origin:ea,actor_id:pa.profile_id,client_token:qa});}else this.$PubcontentFeedChainingControllerd(pa.target,{origin:pa.origin,actor_id:pa.profile_id});};na.prototype.$PubcontentFeedChainingController7=function(oa,pa){"use strict";if(!pa.ft_id)return;w.getFeedbackTarget(pa.ft_id,function(qa,ra){var sa=this.findAdClientToken(qa);if(sa&&ra.isshare){this.$PubcontentFeedChainingControllerc(qa,{actor_id:ra.actorid,origin:fa,ft_id:ra.entidentifier,client_token:sa});}else if(ra.isownerpage){this.$PubcontentFeedChainingControllerd(qa,{actor_id:ra.actorid,origin:ha});}else if(ra.isshare){this.$PubcontentFeedChainingControllerd(qa,{actor_id:ra.actorid,ft_id:ra.entidentifier,origin:ka});}else{var ta=v.getTopicsForFTID(ra.entidentifier);if(ta&&ta.length>0)this.$PubcontentFeedChainingControllere(qa,{ft_id:ra.entidentifier,origin:la,pivotal_topic_ids:ta});}}.bind(this,pa.target));};na.prototype.$PubcontentFeedChainingControllerf=function(oa,pa){"use strict";var qa=this.$PubcontentFeedChainingControllerg(oa,pa);if(!qa)return false;var ra=(new ca()).setString('origin',pa.origin);if(pa.story_id)ra.setString('storyid',String(pa.story_id));new i().setErrorHandler(this.$PubcontentFeedChainingControllerh.bind(this,qa.story.id)).setRelativeTo(qa.chainingWrapper).setURI(ra.getURI()).setAllowCrossPageTransition(true).send();return true;};na.prototype.$PubcontentFeedChainingControllerb=function(oa,pa){"use strict";var qa=this;qa.$PubcontentFeedChainingControllerf(pa.attachment,{origin:ma,story_id:pa.storyid});};na.prototype.$PubcontentFeedChainingController8=function(oa,pa){"use strict";if(g.no_chained_related_stories==='true')return;pa.origin=ia;var qa=this,ra=this.findStory(pa.attachment),sa=n.scry(n.getRootElement(),'#initial_browse_result').length>0;if(sa)return;var ta;if(pa.is_right_click){ta=0;}else ta=j.EVENT_DELAY;setTimeout(function(){if(ra){var ua=qa.findAttachment(ra);if(ua)pa.attachment=ua;}qa.$PubcontentFeedChainingControlleri(pa.attachment,pa);},ta);};na.prototype.$PubcontentFeedChainingController9=function(oa,pa){"use strict";pa.origin=ja;var qa=this,ra=this.findStory(pa.attachment);setTimeout(function(){if(ra){var sa=qa.findAttachment(ra);if(sa)pa.attachment=sa;}qa.$PubcontentFeedChainingControlleri(pa.attachment,pa);},j.EVENT_DELAY);};na.prototype.$PubcontentFeedChainingControllera=function(oa,pa){"use strict";var qa=this.findAdClientToken(pa.attachment);if(qa){pa.origin=ga;pa.client_token=qa;this.$PubcontentFeedChainingControllerc(pa.attachment,pa);}};na.prototype.$PubcontentFeedChainingControllerj=function(oa){"use strict";return !!(oa&&oa.id&&!k.hasClass(oa,"_sf6")&&!(oa.id in this.$PubcontentFeedChainingController5));};na.prototype.$PubcontentFeedChainingControllerk=function(oa){"use strict";if(!oa)return false;if(oa.origin in this.$PubcontentFeedChainingController0||oa.origin in this.$PubcontentFeedChainingController2||oa.origin in this.$PubcontentFeedChainingController1||oa.origin in this.$PubcontentFeedChainingController4){return true;}else{var pa=this.$PubcontentFeedChainingController3[oa.origin];if(!pa||!pa.rate)return false;var qa=Math.random();if(qa>pa.rate)return false;return true;}};na.prototype.$PubcontentFeedChainingControllerl=function(oa){"use strict";this.$PubcontentFeedChainingController5[oa]=true;};na.prototype.$PubcontentFeedChainingControllerh=function(oa){"use strict";delete this.$PubcontentFeedChainingController5[oa];};na.prototype.$PubcontentFeedChainingControllerg=function(oa,pa){"use strict";var qa=this.findStory(oa);if(!this.$PubcontentFeedChainingControllerj(qa))return null;if(!this.$PubcontentFeedChainingControllerk(pa))return null;this.$PubcontentFeedChainingControllerl(qa.id);if(this.isSponsoredStory(qa))return null;var ra;if(!pa.continued_chaining){ra=this.findContainer(qa);if(!ra)return null;var sa=m.create('div'),ta=m.appendContent(ra,sa);if(ta.length!==1)return null;}else{ra=qa;sa=m.create('div');ta=m.insertAfter(ra,sa);m.remove(ra);if(ta.length!==1)return null;}return {chainingWrapper:ta[0],story:qa};};na.prototype.$PubcontentFeedChainingControllerc=function(oa,pa){"use strict";var qa=this.$PubcontentFeedChainingControllerg(oa,pa);if(!qa)return false;var ra=this.findStreamRoot(qa.story);if(!ra)return false;var sa=ra.getAttribute('id'),ta=(new y()).setInt('actor_id',pa.actor_id).setString('origin',pa.origin).setString('ei',pa.client_token).setString('data_ownerid',sa);if(pa.ft_id)ta.setString('ft_id',pa.ft_id);new i().setErrorHandler(this.$PubcontentFeedChainingControllerh.bind(this,qa.story.id)).setRelativeTo(qa.chainingWrapper).setURI(ta.getURI()).send();return true;};na.prototype.$PubcontentFeedChainingControlleri=function(oa,pa){"use strict";var qa=this.$PubcontentFeedChainingControllerg(oa,pa);if(!qa)return false;var ra=(new aa()).setInt('global_share_id',pa.global_share_id).setString('attachment_div_id',m.getID(pa.attachment));if(pa.link_url)ra.setString('link_url',pa.link_url);if(pa.video_div_id)ra.setString('video_div_id',pa.video_div_id);if(pa.share_id)ra.setString('share_id',pa.share_id);var sa=JSON.parse(qa.story.getAttribute('data-ft'))||{};if('qid' in sa&&'mf_story_key' in sa){ra.setString('qid',sa.qid);ra.setString('mf_story_key',sa.mf_story_key);}var ta=new i().setErrorHandler(this.$PubcontentFeedChainingControllerh.bind(this,qa.story.id)).setRelativeTo(qa.chainingWrapper).setURI(ra.getURI());sa&&ta.setData(sa);ta.send();return true;};na.prototype.$PubcontentFeedChainingControllerd=function(oa,pa){"use strict";var qa=this.$PubcontentFeedChainingControllerg(oa,pa);if(!qa)return false;var ra=(new z()).setInt('actor_id',pa.actor_id).setString('origin',pa.origin);if(pa.ft_id)ra.setString('ft_id',pa.ft_id);new i().setErrorHandler(this.$PubcontentFeedChainingControllerh.bind(this,qa.story.id)).setRelativeTo(qa.chainingWrapper).setURI(ra.getURI()).send();return true;};na.prototype.$PubcontentFeedChainingControllere=function(oa,pa){"use strict";var qa=this.$PubcontentFeedChainingControllerg(oa,pa);if(!qa)return false;var ra=(new ba()).setIntVector('pivotal_topic_ids',pa.pivotal_topic_ids).getURI();new i().setErrorHandler(this.$PubcontentFeedChainingControllerh.bind(this,qa.story.id)).setRelativeTo(qa.chainingWrapper).setURI(ra).send();return true;};e.exports=na;},null);
__d("PubcontentLitestandClassicChainingController",["ContextualThing","DOM","PubcontentFeedChainingController","csx"],function(a,b,c,d,e,f,g,h,i,j){for(var k in i)if(i.hasOwnProperty(k))m[k]=i[k];var l=i===null?null:i.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=i;function m(){"use strict";if(i!==null)i.apply(this,arguments);}m.prototype.findStory=function(n){"use strict";var o="^div._4-u2",p=h.scry(n,o);return p.length===1?p[0]:null;};m.prototype.isSponsoredStory=function(n){"use strict";var o="._5paw";return h.scry(n,o).length>0;};m.prototype.findAttachment=function(n){"use strict";var o="div._6m2",p="div.iframeEmbed",q=h.scry(n,o)[0]||h.scry(n,p)[0];return q;};m.prototype.findContainer=function(n){"use strict";var o=h.create('div'),p=h.insertAfter(n,o);g.register(o,n);return p.length>=1?p[0]:null;};m.prototype.findStreamRoot=function(n){"use strict";var o="^div._4ikz";return h.scry(n,o)[0];};m.prototype.findAdClientToken=function(n){"use strict";var o=this.findStory(n);if(!o)return null;var p=o.getAttribute('data-ft');if(!p)return null;var q=JSON.parse(p);return q[i.getAdClientTokenIndex()];};e.exports=m;new m();},null);
__d("StoryPositionTracking",["DOM","LitestandStream","csx","ge"],function(a,b,c,d,e,f,g,h,i,j){var k=0;function l(o,p){var q=JSON.parse(o.getAttribute('data-ft'));q.insertion_position=p;o.setAttribute('data-ft',JSON.stringify(q));}function m(o){return g.scry(o,"._5jmm");}var n={registerNewStories:function(o){if(o=='substream_0')k=0;var p=m(j(o)),q=p.length;for(var r=0;r<q;r++)l(p[r],k++);},updateAllStories:function(){var o=m(h.getStreamRoot()),p=o.length;k=0;for(var q=0;q<p;q++)l(o[q],k++);}};e.exports=n;},null);
__d("StreamViewportTracking",["DOM","DOMDimensions","ViewportTracking","ge","recordTNTreeData"],function(a,b,c,d,e,f,g,h,i,j,k){var l=51;for(var m in i)if(i.hasOwnProperty(m))o[m]=i[m];var n=i===null?null:i.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=i;function o(){"use strict";if(i!==null)i.apply(this,arguments);}o.prototype.init=function(p,q){"use strict";if(q)this.$StreamViewportTracking0=q;n.init.call(this,p);this.initSubscriptions();};o.prototype.initSubscriptions=function(){"use strict";};o.prototype.getDataFromConfig=function(p){"use strict";this.recordTNTree=p.record_tn_tree;this.timeout=p.record_delay;this.isTimetrackingEnabled=!!p.is_timetracking_enabled;};o.prototype.getTimeout=function(){"use strict";return this.timeout;};o.prototype.getStorySelector=function(){"use strict";return '.uiStreamStory';};o.prototype.getAllStories=function(){"use strict";var p=g.scry(this.getStream(),this.getStorySelector());return p.filter(function(q){return q.getAttribute('data-ft');});};o.prototype.getStoryID=function(p){"use strict";var q=JSON.parse(p.getAttribute('data-ft'));return q.mf_story_key;};o.prototype.getQueryID=function(p){"use strict";var q=JSON.parse(p.getAttribute('data-ft'));return q.qid;};o.prototype.getFBFeedLocation=function(p){"use strict";var q=JSON.parse(p.getAttribute('data-ft'));return q.fbfeed_location;};o.prototype.getDataToLog=function(p){"use strict";var q={};if(this.recordTNTree){var r=this.getStream();q=k(p,r);var s=p.getAttribute('data-insertion-position');if(s!==null)q.inspos=s;}q.evt=l;q.vpv_time=Math.round(Date.now()/1000);var t=g.scry(p,".fbStoryAttachmentImage")[0];if(t){var u=h.getElementDimensions(t);q.story_image_height=u.height;q.story_image_width=u.width;}return {ft:q};};o.prototype.getStream=function(){"use strict";if(this.$StreamViewportTracking0)return this.$StreamViewportTracking0;return j('home_stream');};o.prototype.heartBeatIsEnabled=function(){"use strict";return true;};o.init=function(p,q){"use strict";o.instance=new o();o.instance.init(p,q);};o.getInstance=function(){"use strict";return o.instance;};e.exports=o;},null);
__d("FbFeedAttachmentRelatedShare",["Arbiter","AttachmentRelatedShareConstants","DOM","Event","tidyEvent","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={loadRelatedAttachment:function(n,o){k(j.listen(n,'click',function(){g.inform(h.ARTICLE_CLICK,{attachment:n,global_share_id:o});}));},loadRelatedVideoAttachment:function(n,o){k(j.listen(n,'click',function(){g.inform(h.VIDEO_CLICK,{attachment:n,global_share_id:o});}));},loadRelatedAttachmentForStream:function(n){var o=function(event,p){var q=event.getTarget();if(q.getAttribute('target')!=='_blank')return;var r="^div._5pbx",s="^div._5pc9",t=i.scry(q,r)[0]||i.scry(q,s)[0];if(!t)return;g.inform(h.ARTICLE_CLICK,{attachment:t,global_share_id:0,link_url:q.getAttribute('href'),is_right_click:p});};k(j.listen(n,'click',function(event){o(event,false);}));k(j.listen(n,'mousedown',function(event){if(event.which==3||event.button==2)o(event,true);}));},closeButton:function(n,o){k(j.listen(n,'click',function(){i.remove(o);}));}};e.exports=m;},null);
__d("FbFeedKeyboardController",["CSS","DOM","DOMQuery","FeedBaseKeyboardController","JSXDOM","Parent","FbFeedHighlight","csx","cx","ge","getActiveElement"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(w){if(w.previousElementSibling)return w.previousElementSibling;w=w.previousSibling;while(w&&!h.isElementNode(w))w=w.previousSibling;return w||null;}function s(w){if(w.nextElementSibling)return w.nextElementSibling;w=w.nextSibling;while(w&&!h.isElementNode(w))w=w.nextSibling;return w||null;}for(var t in j)if(j.hasOwnProperty(t))v[t]=j[t];var u=j===null?null:j.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=j;function v(){"use strict";if(j!==null)j.apply(this,arguments);}v.prototype.getStories=function(w){"use strict";return h.scry(w||this.root,"._5jmm");};v.prototype.isHoldoutStory=function(w){"use strict";return !!w&&g.hasClass(w,'holdoutAdStory');};v.prototype.isRelevantStory=function(w){"use strict";return i.isElementNode(w)&&!this.isHoldoutStory(w);};v.prototype.isStory=function(w){"use strict";return g.hasClass(w,"_5jmm");};v.prototype.clickLike=function(){"use strict";this.click('.UFILikeLink');var w=this.getParentStory(q());h.find(w,'.UFILikeLink').focus();};v.prototype.clickComment=function(){"use strict";this.click('.comment_link');};v.prototype.clickShare=function(){"use strict";this.click('.share_action_link');};v.prototype.clickSeeMore=function(){"use strict";this.click('.see_more_link');};v.prototype.clickLeft=function(){"use strict";this.click("._1mri");};v.prototype.clickRight=function(){"use strict";this.click("._2fu-");};v.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};v.prototype.getHeadline=function(w){"use strict";return i.scry(w,"h5._5pbw")[0];};v.prototype.getPreviousSibling=function(w){"use strict";var x=r(w);if(x&&this.getParentStory(x))return x;x=null;var y=l.byClass(w,"_5pcb");if(y){var z=h.scry(y,"._5jmm"),aa=z.indexOf(w);while(aa>-1){if(aa===0){x=p('pagelet_composer');x=x&&l.byClass(x,"_5jmm");}else if(aa>0){x=z[aa-1];if(x.offsetHeight>0)break;}aa--;}}return x||this.selected;};v.prototype.getPreviousStory=function(w){"use strict";var x=this.getPreviousSibling(w);while(x&&!this.isStory(x))x=this.getPreviousSibling(x);return x;};v.prototype.getParentStory=function(w){"use strict";return l.byClass(w,"_5jmm");};v.prototype.getNextSibling=function(w){"use strict";var x=s(w);if(x&&this.getParentStory(x))return x;x=null;var y=l.byClass(w,"_5pcb");if(y){var z=h.scry(y,"._5jmm"),aa=z.indexOf(w);if(aa>-1){x=z[++aa];while(x&&x.offsetHeight===0)x=z[++aa];}}else if(p('pagelet_composer',w))x=h.scry(document,"div._5pcb ._5jmm")[0];return x||this.selected;};v.prototype.getNextStory=function(w){"use strict";var x=this.getNextSibling(w);while(x&&!this.isStory(x))x=this.getNextSibling(x);return x;};v.prototype.setSelected=function(w,x){"use strict";if(w){var y="_5qdu",z=i.scry(w,"._5qdu");if(!z.length&&x)h.prependContent(w,k.div({className:y}));}if(x){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&g.removeClass(this.selected,"_5qdv");this.selected=w;w&&this.setTabindexOnStory(w,'0');w&&g.addClass(w,"_5qdv");m.highlight(w);}};v.init=function(w){"use strict";new v(w);};e.exports=v;},null);
__d("FbFeedViewportTracking",["Arbiter","LitestandMessages","LitestandStream","StreamViewportTracking","csx"],function(a,b,c,d,e,f,g,h,i,j,k){for(var l in j)if(j.hasOwnProperty(l))n[l]=j[l];var m=j===null?null:j.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=j;function n(){"use strict";if(j!==null)j.apply(this,arguments);}n.prototype.initSubscriptions=function(){"use strict";this.subscriptions.addSubscriptions(g.subscribe([h.STORIES_INSERTED,h.STORIES_REMOVED],this.invalidateAllStoriesCache.bind(this)),g.subscribe(h.LEAVE_HOME,this.updateTimeTrackingData.bind(this,true)));};n.prototype.getStorySelector=function(){"use strict";return "._5jmm";};n.prototype.getStream=function(){"use strict";return i.getStreamRoot();};n.init=function(o){"use strict";new n().init(o);};e.exports=n;},null);